<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Docker保姆级教程 : Install Docker | MokYan</title>
<link rel="shortcut icon" href="https://M0kY4n.github.io/Websec/favicon.ico?v=1625391093726">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" rel="stylesheet">
<link rel="stylesheet" href="https://M0kY4n.github.io/Websec/styles/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!-- DEMO JS -->
<script src="media/scripts/index.js"></script>



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            MokYan
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
    </div>
</nav>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Docker保姆级教程 : Install Docker
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2020-06-27 ·
                    </time>
                    
                        <a href="https://M0kY4n.github.io/Websec/tag/EWiH8QevQ/" class="post-tags">
                            # Docker
                        </a>
                    
                        <a href="https://M0kY4n.github.io/Websec/tag/PP1ONrR3yT/" class="post-tags">
                            # Linux
                        </a>
                    
                </div>
                <div class="post-content">
                    <h1 id="docker安装教程">Docker安装教程</h1>
<blockquote>
<p>Docker官方手册 :https://docs.docker.com/</p>
</blockquote>
<br>
<h2 id="系统环境">系统环境</h2>
<blockquote>
<p>此文章演示的版本为Linux版本,系统为CentOS 7,官方手册明确说明:</p>
<p>​	若要在CentOS上安装Docker,则需要一个CentOS 7的维护版本。不支持或未测试存档版本。</p>
</blockquote>
<pre><code class="language-shell">#系统版本信息
[root@localhost ~]# cat /etc/os-release 
NAME=&quot;CentOS Linux&quot;
VERSION=&quot;7 (Core)&quot;
ID=&quot;centos&quot;
ID_LIKE=&quot;rhel fedora&quot;
VERSION_ID=&quot;7&quot;
PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;
ANSI_COLOR=&quot;0;31&quot;
CPE_NAME=&quot;cpe:/o:centos:centos:7&quot;
HOME_URL=&quot;https://www.centos.org/&quot;
BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;

CENTOS_MANTISBT_PROJECT=&quot;CentOS-7&quot;
CENTOS_MANTISBT_PROJECT_VERSION=&quot;7&quot;
REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;
REDHAT_SUPPORT_PRODUCT_VERSION=&quot;7&quot;

</code></pre>
<p>安装之前确保系统没有安装过旧版本的Docker,若有安装执行以下命令卸载旧版本的Docker</p>
<pre><code class="language-shell">$ sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
                  
</code></pre>
<br>
<br>
<h2 id="安装docker">安装Docker</h2>
<blockquote>
<p>安装Docker之前,需要设置Docker存储库</p>
</blockquote>
<pre><code class="language-shell">#设置存储库需安装yum-utils包
yum install -y yum-utils

#设置存储库 , 默认为官方国外地址!!!,若网络状态不好请自行更换国内源
yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo    
    
#更新源
yum makecache fast

</code></pre>
<blockquote>
<p>安装Docker</p>
</blockquote>
<pre><code class="language-shell"> #安装最新的Docker
 yum -y install docker-ce docker-ce-cli containerd.io
 
</code></pre>
<br>
<br>
<h2 id="启动运行-docker">启动&amp;运行 Docker</h2>
<pre><code class="language-shell">#启动Docker
systemctl start docker

#运行Hello-world镜像来测试是否正确安装了Docker
docker run hello-world

#显示以下信息则正确安装了Docker

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/

</code></pre>
<br>
<br>
<h2 id="卸载docker">卸载Docker</h2>
<pre><code class="language-shell">#卸载Docker
yum remove docker-ce docker-ce-cli containerd.io

#删除主机上的残余文件(镜像,容器,配置文件等等)
rm -rf /var/lib/docker
</code></pre>
<br>
<br>
<h1 id="配置国内镜像加速">配置国内镜像加速</h1>
<blockquote>
<p>使用国内镜像加速能更快的下载镜像,这里以腾讯云为例,其他运行商请自行找到各自的文档进行配置</p>
</blockquote>
<pre><code class="language-shell">#打开 /etc/docker/daemon.json 配置文件(这个文件是本身是不存在的,只是通过vim创建-编辑-保存-生成)
vim /etc/docker/daemon.json

#进入vim的编辑模式,添加一下内容,并保存
{
&quot;registry-mirrors&quot;: [&quot;https://mirror.ccs.tencentyun.com&quot;]
}

#重新加载服务配置文件
systemctl daemon-reload 

#重启Docker进程
systemctl restart docker
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://M0kY4n.github.io/Websec/post/gao-qing-zhuan-ji-feng-mian/" class="post-title gt-a-link">
                    上网冲浪小技巧——下载高清专辑封面
                </a>
            </div>
        

        
            
                <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '33314f7248b5c9af3dd7',
    clientSecret: 'a00f05259046ad817d64c59027a0388812fe40b7',
    repo: 'MokYan.github.io',
    owner: 'MokYan',
    admin: ['MokYan'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

            

            
        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">The more you know, the more you don't know</div>
    <div class="social-container">
        
            
        
            
        
            
                <a href="https://weibo.com/2125865220/profile?topnav=1&amp;wvr=6" target="_blank">
                    <i class="fab fa-weibo gt-c-content-color-first"></i>
                </a>
            
        
            
                <a href="https://www.zhihu.com/people/damo-18-66" target="_blank">
                    <i class="fab fa-zhihu gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
    </div>
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a href="https://M0kY4n.github.io/Websec/atom.xml" target="_blank">RSS</a>
</div>

<script>
    hljs.initHighlightingOnLoad()
</script>


    </div>
</div>
</body>
</html>
